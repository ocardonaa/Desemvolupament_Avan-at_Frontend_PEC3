<div class="container">
  <div class="elems-container">
    <div class="cards-container" [@listAnimation] *ngIf="posts.length > 0">
      <div *ngFor="let post of posts" class="card">
        <mat-card appearance="outlined">
          <mat-card-header>
            <div class="category-container">
              <div>
                <span *ngFor="let category of post.categories" class="badge"
                  [ngStyle]="{ 'background-color': category.css_color }">
                  {{ category.title }}
                </span>
              </div>
            </div>
            <h4>
              <b>Title: {{ post.title }}</b>
            </h4>
          </mat-card-header>
          <mat-card-content>
            <p>Description: {{ post.description }}</p>
            <p>Likes: {{ post.num_likes }}</p>
            <p>Dislikes: {{ post.num_dislikes }}</p>
            <p>Publication date: {{ post.publication_date | formatDate: 3 }}</p>
            <p>Published by: {{ post.userAlias }}</p>
          </mat-card-content>
          <mat-card-actions>
            <div *ngIf="showButtons" class="buttons-container">
              <button mat-raised-button class="mat-success" (click)="like(post.postId)">Like</button>
              <button mat-raised-button color="warn" (click)="dislike(post.postId)">Dislike</button>
            </div>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading$ | async" class="spinner-overlay">
  <mat-spinner diameter="100"></mat-spinner>
</div>